
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Coal Logs / Reports Tool</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f4f4f4;
      padding: 20px;
    }
    .modal, .main-content {
      background: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
      margin-bottom: 20px;
    }
    .hidden {
      display: none;
    }
    .row {
      margin-bottom: 10px;
    }
    label {
      display: block;
      font-weight: bold;
      margin-bottom: 5px;
    }
    input[type="text"], textarea, select {
      width: 100%;
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    textarea {
      height: 60px;
    }
    select[multiple] {
      height: auto;
      min-height: 100px;
    }
    .checkbox-group {
      display: flex;
      gap: 10px;
      margin-top: 5px;
    }
    table {
      width: 100%;
      table-layout: fixed;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 8px;
      text-align: center;
      word-wrap: break-word;
    }
    td input {
      width: 100%;
      box-sizing: border-box;
    }
    .buttons {
      margin-top: 10px;
      text-align: right;
    }
    .buttons button {
      padding: 5px 10px;
      margin-left: 5px;
    }
  </style>
</head>
<body>
<div class="banner"><img src="AEF3C18D-C5EF-42D9-A71E-C01EFE4589C0.jpeg" alt="Coal Logs Banner" style="max-width:100%;display:block;margin:0 auto 20px;"></div>

<div id="modal" class="modal">
  <h2>Coal Logs - Team Info</h2>
  <div class="row">
    <label>Team Name (Opscrew)</label>
    <select id="teamName" multiple>
      <option>Ruzzel Arenas</option>
      <option>Jhamir Paul Madamba</option>
      <option>Mike Garcia</option>
      <option>Enrique Austria</option>
      <option>Jhondel Nimes</option>
      <option>Genesis Mendez</option>
      <option>Jeremy Alinsunurin</option>
    </select>
  </div>
  <div class="row">
    <label>Shift</label>
    <div class="checkbox-group">
      <label><input type="radio" name="shift" value="Day"> Day Shift</label>
      <label><input type="radio" name="shift" value="Night"> Night Shift</label>
    </div>
  </div>
  <div class="row">
    <label>Operator Name</label>
    <select id="operatorName" multiple>
      <option>Oliver Alcosaba</option>
      <option>Adonis Millianes</option>
      <option>Jerome Saludes</option>
      <option>Ayman Liao</option>
      <option>Nick Lodor</option>
      <option>Alvin Capacete</option>
      <option>Jhonas Magbanua</option>
      <option>Joselito Vargas</option>
      <option>Jhenrize Dacillo</option>
      <option>Junald Abadilla</option>
      <option>Lhon Litiza</option>
      <option>Ronald Villasis</option>
      <option>Jomar Edillo</option>
    </select>
  </div>
  <div class="row"><label>Boiler Main</label><input type="text" id="boilerMain"></div>
  <div class="row"><label>Boiler Backup</label><input type="text" id="boilerBackup"></div>
  <div class="row"><label>Coal Yard Used</label><input type="text" id="coalYard"></div>
  <div class="row"><label>Maxwork</label><input type="text" id="maxwork"></div>
  <div class="buttons"><button onclick="startLogging()">Continue</button></div>
</div>

<div id="main" class="main-content hidden">
  <h2>Coal Logs / Reports</h2>
  <div class="row"><strong>Date:</strong> <span id="dateNow"></span></div>
  <div class="row"><strong>Shift:</strong> <span id="shiftDisplay"></span></div>
  <div class="row"><strong>Team:</strong> <span id="teamDisplay"></span></div>
  <div class="row"><strong>Operator:</strong> <span id="operatorDisplay"></span></div>
  <div class="row"><strong>Boiler Main:</strong> <span id="boilerMainDisplay"></span></div>
  <div class="row"><strong>Boiler Backup:</strong> <span id="boilerBackupDisplay"></span></div>
  <div class="row"><strong>Coal Yard:</strong> <span id="coalYardDisplay"></span></div>
  <div class="row"><strong>Maxwork:</strong> <span id="maxworkDisplay"></span></div>

  <label for="reportBox">Report:</label>
  <textarea id="reportBox"></textarea>
  <div class="buttons">
    <button onclick="saveReport()">Save</button>
    <button onclick="clearReport()">Clear</button>
  </div>

  <h3>Hourly Coal Activity Log</h3>
  <table id="logTable">
    <tr><th>Time</th><th>Bucket</th><th>Tapon</th><th>Coal Switch</th></tr>
  </table>
</div>

<script>
  function startLogging() {
    const teamOptions = document.getElementById('teamName').selectedOptions;
    const teamName = Array.from(teamOptions).map(opt => opt.value).join(' | ');
    const operatorOptions = document.getElementById('operatorName').selectedOptions;
    const operatorName = Array.from(operatorOptions).map(opt => opt.value).join(' | ');
    const boilerMain = document.getElementById('boilerMain').value;
    const boilerBackup = document.getElementById('boilerBackup').value;
    const coalYard = document.getElementById('coalYard').value;
    const maxwork = document.getElementById('maxwork').value;
    const shift = document.querySelector('input[name="shift"]:checked')?.value;

    if (!teamName || !operatorName || !boilerMain || !coalYard || !shift) {
      alert('Please fill all required fields.');
      return;
    }

    document.getElementById('modal').classList.add('hidden');
    document.getElementById('main').classList.remove('hidden');

    document.getElementById('dateNow').textContent = new Date().toLocaleDateString();
    document.getElementById('shiftDisplay').textContent = shift;
    document.getElementById('teamDisplay').textContent = teamName;
    document.getElementById('operatorDisplay').textContent = operatorName;
    document.getElementById('boilerMainDisplay').textContent = boilerMain;
    document.getElementById('boilerBackupDisplay').textContent = boilerBackup;
    document.getElementById('coalYardDisplay').textContent = coalYard;
    document.getElementById('maxworkDisplay').textContent = maxwork;

    const table = document.getElementById('logTable');
    const start = shift === "Night" ? 0 : 6;
    const end = shift === "Night" ? 6 : 19;

    for (let i = start; i < end; i++) {
      const row = document.createElement('tr');
      const hour = i.toString().padStart(2, '0') + ':00';
      row.innerHTML = `<td>${hour}</td><td><input></td><td><input></td><td><input></td>`;
      table.appendChild(row);
    }
  }

  function saveReport() {
    const text = document.getElementById('reportBox').value.trim();
    if (text === '') {
      alert("Report is empty!");
      return;
    }
    alert("Report saved (preview only, Firebase not yet linked)");
  }

  function clearReport() {
    document.getElementById('reportBox').value = '';
  }
</script>

</body>
</html>
